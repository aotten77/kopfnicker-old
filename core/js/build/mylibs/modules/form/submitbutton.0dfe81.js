define(["jquery","_super","jquery_ba-dotimeout"],function(a,b){"use strict";var c=a.extend({},b,{init:function(c,d){return this.options=a.extend({},this.options,c),this.name=this.options.pluginName,this.pos=this.options.pos,this.jmname=this.options.jmname,this.$elem=a(d),b.config.call(this),this.onInitExec(),this},onInitExec:function(){this.$formElem=this.$elem.closest("form"),this._checkState()},options:{},_exec:function(){jmHF.submit(),this.$elem.trigger("checkValidation",this.$elem)},_checkState:function(){this.is("state","disable without form changes")&&(this.formquery=this.$formElem.serialize(),this._setBtnState(this.formquery),this._addListenerForDisableEnableState())},_addListenerForDisableEnableState:function(){var b=this;this.$formElem.on("focus click keyup",function(c){("label"!==c.target.nodeName.toLowerCase()||!a(c.target).find('input[type="radio"]').doesExist()&&!a(c.target).find('input[type="checkbox"]').doesExist())&&a.doTimeout("changeForm",100,function(){b._setBtnState()})})},_setBtnState:function(){return this.formquery!==this.$formElem.serialize()?(this.$elem.removeAttr("disabled"),this.$elem.removeClass("btn-inaktiv"),void this.$elem.addClass("btn")):(this.$elem.attr("disabled","disabled"),this.$elem.removeClass("btn"),void this.$elem.addClass("btn-inaktiv"))}});return a.plugin("modules.form.submitbutton",c),c});